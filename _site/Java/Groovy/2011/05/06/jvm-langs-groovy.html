<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
        <link href="/css/site.css" type="text/css" rel="stylesheet"/>
        <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
        <link rel="alternate" type="application/atom+xml"
              href="/atom.xml" title="Atom feed">
        <link rel="alternate" type="application/atom+xml" href="/emacs.xml" title="Atom feed">
        <title>(think) - Java.next() - The Groovy Programming Language</title>

        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-22917580-1']);
            _gaq.push(['_trackPageview']);

            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();

        </script>
    </head>

    <body>
        <div id="page">
            <div id="content">
                <div id="header">
                    <h1>(think)</h1>
                    <p class="comment">/** An online novel about the Source, the Force, the real life and everything
                    in between...**/</p>
                </div>
                <div id="middle">
                    <div id="menu">
                        <ul id="list-nav">
                            <li><a href="/index.html">Home</a></li>
                            <li><a href="/archive.html">Archive</a></li>
                            <li><a href="/projects.html">Projects</a></li>
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contacts.html">Contacts</a></li>
                        </ul>
                    </div>
                    <div id="content">
                        <div id="post">
    <h2 class="title">Java.next() - The Groovy Programming Language</h2>
    <p>In a series of articles labeled “Java.next()” I’ll be discussing
modern alternatives to the Java programming language for use with the
Java Platform. This is the first installment of the series - “The
Groovy Programming Language”.</p>

<h1 id="overture">Overture</h1>

<p>We all know and love the Java <em>platform</em>(note the emphasis on
platform) for a couple of obvious reasons. Most notably it features a
huge high quality standard library and a legendary execution
environment - the Java Virtual Machine(JVM). The JVM is known to
posses the following qualities:</p>

<ul>
  <li>Runs on all major platforms</li>
  <li>Enterprise ready</li>
  <li>Extremely stable</li>
  <li>Extremely fast</li>
  <li>Highly customizable - many aspects of its work can easily be
adjusted such as GC settings, heap settings, etc.</li>
</ul>

<p>There is a terrific community around the Java platform that has
contributed an immense amount of high quality software vital to the
success of Java. Hibernate, Spring, Eclipse, NetBeans, the myriad of
Apache projects are all community efforts.</p>

<p>So far so good, but it’s not all rainbows and unicorns in the land of
Java. The Java programming language is a common source of gripe
amongst many developers for various reasons. I’ll list here some of
the more notable of them:</p>

<ul>
  <li>It’s not a pure OOP language(there is a difference between primitive
and reference data types)</li>
  <li>It uses static typing(highly subjective topic, but commonly brought up)</li>
  <li>It doesn’t have support for closures(which instantly kills half of
functional’s programming ideas such as higher order functions)</li>
  <li>It has limited meta programming capabilities(compared to Ruby and
Lisp for instance)</li>
  <li>There is no concept of top-level procedures(outside of class
definitions)(this makes Java unsuitable for creating “script” programs)</li>
  <li>Its syntax is too verbose</li>
  <li>It’s not suitable for the creation of DSLs</li>
  <li>Its development is sluggish and restrained by the corporate promise of backward compatibility </li>
  <li>It’s an imperative language</li>
  <li>Its parallel programming model is revolving mostly around locks and
threads</li>
</ul>

<p>Naturally there are some languages that alleviate some(most) of Java’s
problems such as:</p>

<ul>
  <li>Ruby</li>
  <li>Python</li>
  <li>Lisp</li>
  <li>Erlang</li>
  <li>Haskell</li>
</ul>

<p>They all, however, lack(with their default implementations at least)
an execution environment that can match the JVM. They also lack Java’s
immense amount of libraries currently available. When enthusiasts
started porting existing languages to the JVM this came as no surprise
- it was only logical. A good language get a good execution
environment. For instance some folks ported Ruby to Java which
resulted in JRuby, Python also got a Java port called Jython. Though a
lot of good has come from such ports they was also a price to pay. In
the case of Ruby and Python some libraries are not written in
Ruby/Python, but in C for performance reasons, which naturally leads
to problems when you factor in a Java implementation of the
language. There is also the fact that the JVM(currently) doesn’t have
support for dynamic memory dispatching which is feature vital for
dynamically typed languages to get a decent performance. For this
reason Jython is notoriously slow. The JRuby team did a much better
work, circumvented a lot of the JVM limitations and actually managed
to create a Ruby implementation that in some scenarios beats the
performance of the standard MRI Ruby 1.9 with it’s custom YARV virtual
machine implemented in C. JRuby will be the object of a further
discussion down the road. Some of the languages that were ported to
the JVM suffer from another problem as well - it’s not straightforward
and efficient in them to reuse existing Java libraries directly.</p>

<p>I’d like to lead this discussion in another direction, however -
programming languages that were implemented from scratch with the JVM
as their execution environment. While there are many of those three
stand out and have gathered a significant momentum in recent
years. They will be the subject of this post and the following
two. Without further adieu I’d like you to meet Groovy, Scala and
Clojure.</p>

<p>We’ll begin our discussion with Groovy…</p>

<p><strong>Disclaimer</strong></p>

<p><em>Before I start I’d like to point out that my knowledge of Groovy is
limited compared to my knowledge of Scala and Clojure. Despite this I
decided to share my thoughts on the language because it’s certainly one
of the most popular JVM languages out there. If I’ve made any errors
in the article I didn’t mean to insult anyone with my ignorance and
I’ll certainly be glad to fix them when someone points them out.</em></p>

<h1 id="a-little-bit-of-groovy-history">A little bit of Groovy history</h1>

<p>James Strachan first talked about the development of Groovy in his
<a href="http://radio-weblogs.com/0112098/2003/08/29.html">blog</a> in August
2003. Several versions were released between 2004 and 2006. After the
JCP(yep, you read that correct - Groovy is actually a Java standard
which is great or scary depending on your point of view)
standardization process began, the version numbering was changed and a
version called “1.0” was released on January 2, 2007. After various
betas and release candidates numbered 1.1, on December 7, 2007, Groovy
1.1 Final was released and immediately rebranded as Groovy 1.5 as a
reflection of the many changes that were made.</p>

<p>In July 2009, Strachan wrote on his blog that “I can honestly say if
someone had shown me the Programming in Scala book by Martin Odersky,
Lex Spoon &amp; Bill Venners back in 2003 I’d probably have never created
Groovy.” Strachan left the project silently a year before the
Groovy 1.0 release in 2007. Leadership of the project was assumed by
Guillaume Laforge (Project Manager and JSR-241 Spec Lead). Under his
guidance Groovy thrived and his risen to be arguably the most widely
used JVM language apart from Java.</p>

<p>Currently the development of Groovy proceeds with a very fast pace and
the latest major update 1.8.0 was released just a couple of days ago.</p>

<h1 id="installation--getting-started">Installation &amp; Getting started</h1>

<p><strong>Platform independent installation</strong>
These instructions describe how to install a binary distribution of Groovy.</p>

<ul>
  <li>download a <a href="http://groovy.codehaus.org/Download">binary distribution of Groovy</a> and unpack it into some file on your local file system</li>
  <li>set your GROOVY_HOME environment variable to the directory you unpacked the distribution</li>
  <li>add GROOVY_HOME/bin to your PATH environment variable</li>
  <li>set your JAVA_HOME environment variable to point to your JDK. On OS
X this is /Library/Java/Home, on other unixes its often /usr/java
etc. If you’ve already installed tools like Ant or Maven you’ve
probably already done this step.</li>
</ul>

<p>For instance here’s the relevant information of my shell’s
configuration:</p>

<div class="highlight"><pre><code class="bash"><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/java/latest
<span class="nb">export </span><span class="nv">GROOVY_HOME</span><span class="o">=</span>/opt/groovy-1.8.0
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$GROOVY_HOME</span>/bin:<span class="nv">$PATH</span>
</code></pre>
</div>

<p>You should now have Groovy installed properly. You can test this by
typing the following in a command shell:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> groovysh
</code></pre>
</div>

<p>Which should create an interactive groovy shell where you can type
Groovy statements. Or to run the Swing interactive console type:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> groovyConsole
</code></pre>
</div>

<p>To run a specific Groovy script type:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> groovy SomeScript.groovy
</code></pre>
</div>

<p><strong>Linux installation</strong></p>

<p>Most Linux distributions provide Groovy through their integrated
package management system. On Debian(and derivatives like Ubuntu) you
can install it like this:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> sudo apt-get install groovy
</code></pre>
</div>

<p>On Red Hat systems the magic incantation looks like this:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> sudo yum install groovy
</code></pre>
</div>

<p>Personally I’d prefer the platform-independent installation method,
since some distribution package Groovy in a non-standard manner which
confuses IDEs for instance.</p>

<p><strong>Windows installation</strong></p>

<p>Groovy features a native <a href="http://dist.codehaus.org/groovy/distributions/installers/windows/nsis/groovy-1.8.0-installer.exe">Windows installer</a>.</p>

<h1 id="meet-groovy">Meet Groovy</h1>

<p><em>“Groovy is like a super version of Java. It can leverage Java’s
enterprise capabilities but also has cool productivity features like
closures, builders and dynamic typing. If you are a developer, tester
or script guru, you have to love Groovy.”</em> - praise for Groovy from
<a href="http://groovy.codehaus.org/">http://groovy.codehaus.org/</a></p>

<p>Groovy is:</p>

<ul>
  <li>is one of the two standard languages for the JVM(the other is Java
of course)</li>
  <li>is an agile and dynamic language for the Java Virtual Machine</li>
  <li>builds upon the strengths of Java but has additional power features inspired by languages like Python, Ruby and Smalltalk</li>
  <li>makes modern programming features available to Java developers with almost-zero learning curve</li>
  <li>supports Domain-Specific Languages and other compact syntax so your
code becomes easy to read and maintain </li>
  <li>makes writing shell and build scripts easy with its powerful processing primitives, OO abilities and an Ant DSL</li>
  <li>increases developer productivity by reducing scaffolding code when developing web, GUI, database or console applications</li>
  <li>simplifies testing by supporting unit testing and mocking out-of-the-box</li>
  <li>seamlessly integrates with all existing Java classes and libraries</li>
  <li>compiles straight to Java bytecode so you can use it anywhere you
can use Java</li>
</ul>

<p>Some of Groovy’s most compelling features are:</p>

<ul>
  <li>Pure OOP language</li>
  <li>Mostly Java compatible syntax</li>
  <li>Optional typing</li>
  <li>No need to wait for a future version of Java to get:
    <ul>
      <li>Closures</li>
      <li>Attributes</li>
      <li>Smart switch</li>
    </ul>
  </li>
  <li>Duck typing</li>
  <li>BigInteger based arithmetic
    <ul>
      <li>This deserves some special explanation because of a rather
strange design decision in Groovy. Groovy will create a
BigIntiger out of a large enough number literal, but it won’t
promote the result of an integer operation into BigInteger - 
the result will actually overflow, in contrast to the semantics of most
other dynamically typed languages. Multiply 1000 * 1000000000
and you will end up with -727379968 in Groovy.</li>
    </ul>
  </li>
  <li>SQL, XML &amp; Swing improvements</li>
  <li>Unified data access API</li>
</ul>

<p>A core idea, guiding the design of Groovy, is making it easy to use for
existing Java developers. Groovy’s designers have gone so far in that
direction that the Groovy compiler will happily compile most Java
source files without the need for any modifications. Groovy, however,
builds heavily upon the standard Java’s syntax and you’ll do well to
get a grip of Groovy’s core idioms. Groovy’s syntax in a nutshell:</p>

<div class="highlight"><pre><code class="java"><span class="c1">// old school Java code, but also valid Groovy code</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="o">);</span>

<span class="c1">// idiomatic Groovy</span>
<span class="n">println</span> <span class="s">&quot;Hello, world!&quot;</span>

<span class="c1">// dynamic variable definition</span>
<span class="n">def</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Bozhidar&quot;</span>

<span class="c1">// GString featuring string interpolation</span>
<span class="n">println</span> <span class="s">&quot;Hello, $name&quot;</span>  <span class="c1">// =&gt; &quot;Hello, Bozhidar&quot;</span>

<span class="c1">// statically typed variable</span>
<span class="n">String</span> <span class="n">songName</span> <span class="o">=</span> <span class="s">&quot;Coding in the Name of&quot;</span>

<span class="n">println</span> <span class="s">&quot;Now playing - $songName&quot;</span>

<span class="n">String</span> <span class="n">multiline</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;this is a multiline</span>
<span class="s">string. There is not need to embed</span>
<span class="s">newline characters in it&quot;&quot;&quot;</span>

<span class="n">println</span> <span class="n">multiline</span>

<span class="c1">// method definition</span>
<span class="n">def</span> <span class="nf">greet</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">println</span> <span class="s">&quot;Hello, $name!&quot;</span>
<span class="o">}</span>

<span class="c1">// method invocation</span>
<span class="n">greet</span> <span class="s">&quot;Bozhidar&quot;</span>
<span class="n">greet</span><span class="o">(</span><span class="s">&quot;Bozhidar&quot;</span><span class="o">)</span>

<span class="c1">// safe dereferencing</span>
<span class="n">def</span> <span class="nf">showSize</span><span class="o">(</span><span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">println</span> <span class="s">&quot;List size is: ${list?.size}&quot;</span>
<span class="o">}</span>

<span class="n">showSize</span><span class="o">([</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">])</span>
<span class="c1">// this is the important part</span>
<span class="n">showSize</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>

<span class="c1">// a list</span>
<span class="n">def</span> <span class="n">beers</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;Zagorka&quot;</span><span class="o">,</span> <span class="s">&quot;Bolyarka&quot;</span><span class="o">,</span> <span class="s">&quot;Shumensko&quot;</span><span class="o">,</span> <span class="s">&quot;Ariana&quot;</span><span class="o">]</span>

<span class="c1">// list access</span>
<span class="n">println</span> <span class="s">&quot;My favourite beer is ${beers[1]}&quot;</span>

<span class="n">beers</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">beer</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="n">beer</span> <span class="o">}</span>

<span class="c1">// imports can appear anywhere and support the creation of aliases</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Calendar</span><span class="o">.</span><span class="na">getInstance</span> <span class="n">as</span> <span class="n">now</span>
<span class="kn">import</span> <span class="nn">java.sql.Date</span> <span class="n">as</span> <span class="n">SDate</span>

<span class="n">println</span> <span class="nf">now</span><span class="o">()</span>
<span class="c1">// java.util package is automatically imported in Groovy so this is java.util.Date</span>
<span class="n">println</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">()</span>
<span class="n">println</span> <span class="k">new</span> <span class="nf">SDate</span><span class="o">(</span><span class="mi">2011</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span>

<span class="c1">// language support for regular expressions</span>
<span class="k">if</span> <span class="o">(</span><span class="s">&quot;Hello, Groovy&quot;</span> <span class="o">=~</span> <span class="o">/</span><span class="err">\</span><span class="n">w</span><span class="o">+,</span><span class="err">\</span><span class="n">s</span><span class="err">\</span><span class="n">w</span><span class="o">+/)</span> <span class="o">{</span>
    <span class="n">println</span> <span class="s">&quot;It matches&quot;</span>
<span class="o">}</span>

<span class="c1">// range filtering with higher-order functions</span>
<span class="o">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">).</span><span class="na">findAll</span> <span class="o">{</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">}.</span><span class="na">each</span> <span class="o">{</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="n">n</span> <span class="o">}</span>

<span class="c1">// map</span>
<span class="n">def</span> <span class="n">capitols</span> <span class="o">=</span> <span class="o">[</span><span class="nl">Bulgaria:</span> <span class="s">&quot;Sofia&quot;</span><span class="o">,</span> <span class="nl">USA:</span> <span class="s">&quot;Washington&quot;</span><span class="o">,</span> <span class="nl">England:</span><span class="s">&quot;London&quot;</span><span class="o">,</span> <span class="nl">France:</span><span class="s">&quot;Paris&quot;</span><span class="o">]</span>

<span class="n">println</span> <span class="n">capitols</span><span class="o">[</span><span class="s">&quot;Bulgaria&quot;</span><span class="o">]</span> <span class="c1">// =&gt; Sofia</span>
<span class="n">println</span> <span class="n">capitols</span><span class="o">[</span><span class="s">&quot;France&quot;</span><span class="o">]</span>  <span class="c1">// =&gt; Paris</span>

<span class="c1">// class definition</span>
<span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="n">def</span> <span class="n">name</span>
    <span class="n">def</span> <span class="n">age</span>

    <span class="nf">Person</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;Name {$name}, age {$age}&quot;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">def</span> <span class="n">me</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;Bozhidar&quot;</span><span class="o">,</span> <span class="mi">26</span><span class="o">)</span>
<span class="n">println</span> <span class="n">me</span>
</code></pre>
</div>

<p>From the brief overview you might have noticed that like Ruby and
Python Groovy has language support for commonly used data structures
such as lists, maps, ranges and regular expressions:</p>

<ul>
  <li>List - def number = [1, 2, 3]</li>
  <li>Map - def countries = [BG: “Bulgaria”, DE: “Germany]</li>
  <li>Range - def range = 1..1000 </li>
  <li>Regular expressions - def whitespace = /\s+/</li>
</ul>

<p>You might have noticed another interesting feature in Groovy - the
ability to combine static type(like in Java) with dynamic typing(like
in Ruby and Python). The keyword <em>def</em> is used to introduce
dynamically typed variables in Groovy.</p>

<p>Groovy comes with its very own standard library(GDK) which builds upon
the JDK(for instance the File and String classes are enhanced in
Groovy) and offer some new features like the Groovy’s famous builders.</p>

<h1 id="oop-in-groovy">OOP in Groovy</h1>

<p>Groovy is a pure object oriented language. Everything is an object,
operations are methods, etc. Compared the Java the picture looks right
about this way:</p>

<ul>
  <li>Similar capabilities to Java
    <ul>
      <li>Define classes, interfaces, enums, annotations</li>
    </ul>
  </li>
  <li>Differences to Java
    <ul>
      <li>Classes (and interfaces etc.) public by default</li>
      <li>Methods public by default</li>
      <li>Property support within classes (auto-setters/getters)</li>
      <li>Duck typing</li>
    </ul>
  </li>
</ul>

<p>Java developers should feel mostly at home.</p>

<h1 id="sql-and-xml-handling">SQL and XML handling</h1>

<p>Groovy offers some nice improvements over JDBC and JAXP for handling
database queries and XML parsing.</p>

<p>Groovy removes a lot of boilerplate when dealing with SQL queries
compared to the native JDBC API:</p>

<div class="highlight"><pre><code class="java"><span class="kn">import</span> <span class="nn">groovy.sql.Sql</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">Sql</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://host/db&quot;</span><span class="o">,</span> <span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="s">&quot;password&quot;</span><span class="o">,</span> <span class="s">&quot;com.mysql.jdbc.Driver&quot;</span><span class="o">)</span>
<span class="n">sql</span><span class="o">.</span><span class="na">eachRow</span><span class="o">(</span><span class="s">&quot;select * from tableName&quot;</span><span class="o">,</span> <span class="o">{</span> <span class="n">println</span> <span class="n">it</span><span class="o">.</span><span class="na">id</span> <span class="o">+</span> <span class="s">&quot; -- ${it.firstName} --&quot;</span><span class="o">}</span> <span class="o">)</span>
</code></pre>
</div>

<p>This code is written for a connection to a MySQL database. You will
need to adjust all the parameters to newInstance to connect to your
database, especially username and password.  Finally the third line
calls the eachRow method of sql, passing in two arguments, the first
being the query string, the second being a closure to print out some
values.  Notice that in the closure the fields of “it” are accessed in
two different ways. The first is as a simple field reference,
accessing the id field of it. The second is the included Groovy
expression mentioned above.</p>

<p>So the output from a row might look like:</p>

<div class="highlight"><pre><code class="console"><span class="go">1 -- Bozhidar --</span>
<span class="go">2 -- Maya --</span>
<span class="go">3 -- Kate --</span>
<span class="go">4 -- Valentine --</span>
</code></pre>
</div>

<p>XML processing is common enough task in computing and Groovy’s
developers tried to make it simple and straightforward as
possible. Let’s parse the following file:</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;books&gt;</span>
    <span class="nt">&lt;book&gt;</span>
        <span class="nt">&lt;title&gt;</span>Dune<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
    <span class="nt">&lt;book&gt;</span>
        <span class="nt">&lt;title&gt;</span>Dune Messiah<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
    <span class="nt">&lt;book&gt;</span>
        <span class="nt">&lt;title&gt;</span>Children of Dune<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
    <span class="nt">&lt;book&gt;</span>
        <span class="nt">&lt;title&gt;</span>A Game of Thrones<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;George&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Martin&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
<span class="nt">&lt;/books&gt;</span>
</code></pre>
</div>

<p>All the code we need to write is:</p>

<div class="highlight"><pre><code class="java"><span class="n">def</span> <span class="n">books</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlSlurper</span><span class="o">().</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;books.xml&quot;</span><span class="o">)</span>
<span class="n">books</span><span class="o">.</span><span class="na">book</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span>
    <span class="n">println</span> <span class="s">&quot;Title = ${it.title}, Author: ${it.author.@firstname} ${it.author.@lastname}&quot;</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Ruby and Python developers probably aren’t particularly impressed, but
I can only imagine the look on the faces of Java developers that are
generally required to write huge amount of boilerplate code when
dealing with XML.</p>

<h1 id="builders">Builders</h1>

<p>Groovy has special syntax support for List and Maps. This is great
because it gives a concise representation of the actual object being
defined, so its easier to keep track of what a program or script is
doing. But what about programs which contain arbitrary nested tree
structures. Surely, they are the hardest ones to keep track of what is
going on. Isn’t that an area where syntactic help will be most
beneficial?</p>

<p>The answer is definitely yes and Groovy comes to the party with its
builder concept. You can use it for DOM-like APIs or Ant tasks or
Jelly tags or Swing widgets or whatever. Each may have their own
particular factory mechanism to create the tree of objects - however
they can share the same builder syntax to define them - in a concise
alternative to XML or lengthy programming code.</p>

<p>One use for builders is the generation of markup:</p>

<div class="highlight"><pre><code class="java"><span class="kn">import</span> <span class="nn">groovy.xml.*</span>

<span class="n">def</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MarkupBuilder</span><span class="o">()</span>
<span class="n">page</span><span class="o">.</span><span class="na">html</span> <span class="o">{</span>
    <span class="n">head</span> <span class="o">{</span> <span class="n">title</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="o">,</span> <span class="n">Groovy</span><span class="o">!</span><span class="err">&#39;</span> <span class="o">}</span>
    <span class="n">body</span> <span class="o">{</span>
        <span class="n">div</span> <span class="o">{</span>
            <span class="mi">3</span><span class="o">.</span><span class="na">times</span> <span class="o">{</span>
                <span class="n">p</span> <span class="s">&quot;Groovy power!&quot;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Result:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello, Groovy!<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div&gt;</span>
      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>Builders can also be used to create Swing GUIs. Here’s a very small example:</p>

<div class="highlight"><pre><code class="java"><span class="kn">import</span> <span class="nn">java.awt.FlowLayout</span>

<span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">groovy</span><span class="o">.</span><span class="na">swing</span><span class="o">.</span><span class="na">SwingBuilder</span><span class="o">()</span>
<span class="n">langs</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;Groovy&quot;</span><span class="o">,</span> <span class="s">&quot;Scala&quot;</span><span class="o">,</span> <span class="s">&quot;Clojure&quot;</span><span class="o">]</span>
<span class="n">gui</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">frame</span><span class="o">(</span><span class="nl">size:</span> <span class="o">[</span><span class="mi">290</span><span class="o">,</span> <span class="mi">100</span><span class="o">],</span> <span class="nl">title:</span> <span class="err">&#39;</span><span class="n">Groovy</span> <span class="n">Swing</span><span class="err">&#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">panel</span><span class="o">(</span><span class="nl">layout:</span> <span class="k">new</span> <span class="n">FlowLayout</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">panel</span><span class="o">(</span><span class="nl">layout:</span> <span class="k">new</span> <span class="n">FlowLayout</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">lang</span> <span class="n">in</span> <span class="n">langs</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">radioButton</span><span class="o">(</span><span class="nl">text:</span> <span class="n">lang</span><span class="o">)</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">button</span><span class="o">(</span><span class="nl">text:</span> <span class="err">&#39;</span><span class="n">Perform</span> <span class="n">Magic</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">actionPerformed:</span> <span class="o">{</span>
            <span class="n">builder</span><span class="o">.</span><span class="na">optionPane</span><span class="o">(</span><span class="nl">message:</span> <span class="s">&quot;Feel the power of Groovy!&quot;</span><span class="o">).</span>
                    <span class="n">createDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">Message</span><span class="err">&#39;</span><span class="o">).</span><span class="na">show</span><span class="o">()</span>
        <span class="o">})</span>
        <span class="n">button</span><span class="o">(</span><span class="nl">text:</span> <span class="err">&#39;</span><span class="n">Quit</span><span class="err">&#39;</span><span class="o">,</span>
                <span class="nl">actionPerformed:</span> <span class="o">{</span><span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">)})</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">gui</span><span class="o">.</span><span class="na">show</span><span class="o">()</span>
</code></pre>
</div>

<p>Run the code to see the resulting GUI!</p>

<h1 id="groovy-tooling">Groovy tooling</h1>

<ul>
  <li>IDE
    <ul>
      <li><a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> - the ultimate
Groovy IDE. It’s excellent Groovy support is part of its open
source Community Edition.</li>
      <li><a href="http://groovy.codehaus.org/Eclipse+Plugin">Eclipse</a> - the most
popular Java IDE has an actively maintained Groovy plugin</li>
      <li><a href="http://netbeans.org/features/groovy/">NetBeans</a> - Like IDEA
NetBeans features built-in Groovy support</li>
    </ul>
  </li>
  <li>Groovy distribution
    <ul>
      <li>groovysh - A Groovy REPL for exploratory programming</li>
      <li>groovyConsole - A GUI groovy shell with extended capabilities,
that is handy for the development and testing of small Groovy scripts</li>
      <li>groovyc - the Groovy compiler</li>
    </ul>
  </li>
  <li>Build tools
    <ul>
      <li><a href="http://maven.apache.org">Apache Maven</a></li>
      <li><a href="http://buildr.apache.org">Apache Buildr</a></li>
      <li><a href="http://gradle.org">Gradle</a></li>
    </ul>
  </li>
</ul>

<h1 id="killer-apps">Killer apps</h1>

<ul>
  <li><a href="http://grails.org">Grails</a>
    <ul>
      <li>Groovy port of Ruby on Rails</li>
      <li>Leverages the best Java technologies
        <ul>
          <li>Hibernate</li>
          <li>Spring</li>
          <li>Tomcat</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="http://gradle.org">Gradle</a> - powerful build tool, considered by many vastly superior to
Maven. Several high profile projects(such as Hibernate) already
migrated their builds to Gradle.</li>
  <li><a href="http://griffon.codehaus.org/">Griffon</a> - a Grails like application
framework for developing desktop applications</li>
</ul>

<h1 id="common-use-cases">Common use cases</h1>

<p>Groovy is a general purpose language, but it’s used for some tasks
more often than for others. It’s extremely suitable for:</p>

<ul>
  <li>web application development(usually with Grails)</li>
  <li>scripting(although you have to factor in the cold startup time of
the JVM before you start writing all your scripts in Groovy)</li>
  <li>tests development - it’s a common practice in many Java projects to
have the tests written in Groovy</li>
  <li>GUI development(usually with Griffon)</li>
  <li>Rapid prototyping - you’d do a quick app prototype in Groovy as a
proof on concept and then you’d create a Java application based on
it</li>
  <li>Exploratory programming - the groovysh is a great way to test class
capabilities, methods and ideas with almost zero overhead - no
annoying compile/run cycles to slow you down</li>
</ul>

<p>When performance is critical you’d probably want to avoid
Groovy. According to some benchmarks around the Internet(like
<a href="http://stronglytypedblog.blogspot.com/2010/02/java-vs-scala-vs-groovy-vs-groovy.html">this one</a>)
Groovy is much slower than Java for certain tasks. I, however, haven’t
read any new benchmarks on the subject and have no idea how reliable
the old ones are and how relevant they are to the current Groovy
version.</p>

<h1 id="future-prospects">Future prospects</h1>

<p>With so many languages being created all the time developers
naturally ask themselves the same question over and over again -
should I waste my time learning this language? Related questions seem
to be:</p>

<ul>
  <li>Will it endure the test of time?</li>
  <li>Does it have a vibrant and committed community around it?</li>
  <li>Can I find professional support?</li>
  <li>Does it integrate well with out current infrastructure?</li>
  <li>Does it have good tooling?</li>
</ul>

<p>After all most of the currently popular languages like Java, C# and
PHP are nothing spectacular on their own, but have a combination of
factors that worked in their favour to get them to the top - solid
companies behind them, many deployment options and just the right
amount of beefing up/simplifying C/C++ make existing developers transition to the
new languages a relatively easy and painless experience.</p>

<p>SpringSource(the company responsible for the creation of the popular
Spring framework, now a division of VMWare) employs most of the core
Groovy developers and offers both <a href="http://www.springsource.com/developer/grails">Groovy and Grails support</a>. The fact
that a company such as this one believes in the technology is very
important whey you’re trying to sell using Groovy in your current
company. And if you’re existing infrastructure is built around Java -
well, you have next to nothing to worry about, except maybe will Java 7
deliver the promised speed improvement for dynamic languages
implemented on top of it.</p>

<p>Presently the Groovy community is vast and rapidly growing. The
language itself - constantly evolving. </p>

<p>NetBeans and IntelliJ have built-in Groovy support, which is a big
testament to the language’s popularity as well.</p>

<p>In a sentence I don’t see Groovy disappearing or dying anytime soon
even if its original creator has lost faith in it.</p>

<h1 id="groovy-resources">Groovy resources</h1>

<ul>
  <li>Books
    <ul>
      <li><a href="http://www.manning.com/koenig2/">“Groovy in Action”</a></li>
      <li><a href="http://pragprog.com/titles/vslg/programming-groovy">“Programming Groovy”</a>    </li>
    </ul>
  </li>
  <li>On-line resources
    <ul>
      <li><a href="http://groovy.codehaus.org/User+Guide">Official documentation</a></li>
    </ul>
  </li>
</ul>

<h1 id="epilogue">Epilogue</h1>

<p>Groovy is a language aiming to bring dynamic productivity to Java
developer without introducing them to a steep learning curve. The
language is beautifully architectured and integrates seamlessly with
the existing Java libraries and infrastructure. My biggest gripe with
Groovy was the lack of advanced support for parallel and concurrent
programming. A few days before I wrote this article, however, Groovy
1.8.0 was released and it features the excellent library for parallel
programming <a href="http://gpars.codehaus.org/">GPars</a>. Groovy’s performance
is not stellar at this point, but I guess
this will be improved upon in Java 7. </p>

<p>With its easy to grasp Java-like syntax Groovy is a solid contender
for the attention of Java developers. A growing number of Groovy
related job offerings is a sign of Groovy’s acceptance as a industrial
strength tool. </p>

<p>Some people criticize Groovy for the lack of innovation and claim that
it’s simply an amalgam of ideas borrowed from other languages. I don’t
see nothing bad with that approach as long as the features are
tastefully combined. Groovy might not be the most elegant language out
there, but it’s one of the most practical ones and will help you get
the job done.</p>

<hr />
<p><em>P.S. Coming up next is a discussion of the Scala programming
language.</em></p>

    <div class="meta">Posted on 06 May 2011 by Bozhidar. Filed under Java and Groovy.</div>
    <br/>
        <span  class='st_reddit_large' ></span><span  class='st_linkedin_large' ></span><span  class='st_google_reader_large' ></span><span  class='st_dzone_large' ></span><span  class='st_digg_large' ></span><span  class='st_twitter_large' ></span><span  class='st_facebook_large' ></span><span  class='st_yahoo_large' ></span><span  class='st_gbuzz_large' ></span><span  class='st_email_large' ></span><span  class='st_sharethis_large' ></span>
    <hr />
    <div id="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'batsov'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    var disqus_identifier = document.location.href;
    var disqus_url = document.location.href;

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<script type="text/javascript">var switchTo5x=true;</script><script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript">stLight.options({publisher:'e857ac4f-d3f6-4aa1-9e1f-06210ab5480e'});</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>

                    </div>
                </div>
                <div id="footer">
                    Copyright &copy; 2010-2011 <a href="mailto:bozhidar.batsov@gmail.com">Bozhidar Batsov</a>. All Rights Reserved.
                    <br/>
                    Powered by <a href="http://jekyllrb.com/">Jekyll</a>.
                </div>
            </div>
            <div id="sidebar">
                <div id="twitter">
                    <script src="http://widgets.twimg.com/j/2/widget.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        new TWTR.Widget({
                        version: 2,
                        type: 'profile',
                        rpp: 4,
                        interval: 6000,
                        width: 250,
                        height: 300,
                        theme: {
                        shell: {
                        background: '#333333',
                        color: '#ffffff'
                        },
                        tweets: {
                        background: '#000000',
                        color: '#ffffff',
                        links: '#4aed05'
                        }
                        },
                        features: {
                        scrollbar: false,
                        loop: false,
                        live: false,
                        hashtags: true,
                        timestamp: true,
                        avatars: false,
                        behavior: 'all'
                        }
                        }).render().setUser('bbatsov').start();
                    </script>
                </div>
                <div id="latest">
                    <div class="sidebar_heading">Latest posts:</div>
                    <ul>
                        
                        <li><a href="/Programming/Ruby/2011/09/12/ruby-style-guide.html">The Totally Unofficial Ruby coding style guide</a></li>
                        
                        <li><a href="/Emacs/2011/08/19/a-peek-at-emacs24.html">A peek at Emacs 24</a></li>
                        
                        <li><a href="/Linux/Debian/2011/07/04/debian-tips.html">Debian post installation setup & tips</a></li>
                        
                        <li><a href="/Ruby/Rails/Python/Django/2011/06/19/django-vs-rails.html">Django 1.3 vs Rails 3: A not so final showdown</a></li>
                        
                        <li><a href="/Linux/Windows/Rant/2011/06/14/linux-desktop-part-2.html">The Linux desktop experience is killing Linux on the desktop, Part II</a></li>
                        
                    </ul>
                </div>
                <div id="tags">
                    <div class="sidebar_heading">Categories:</div>
                    <ul>
                        
                        
                        <li><a href="/categories/Misc/index.html">Misc(6)</a></li>
                        
                        
                        <li><a href="/categories/Hardware/index.html">Hardware(4)</a></li>
                        
                        
                        <li><a href="/categories/Ruby/index.html">Ruby(7)</a></li>
                        
                        
                        <li><a href="/categories/Emacs/index.html">Emacs(8)</a></li>
                        
                        
                        <li><a href="/categories/Rails/index.html">Rails(2)</a></li>
                        
                        
                        <li><a href="/categories/Z Shell/index.html">Z Shell(3)</a></li>
                        
                        
                        <li><a href="/categories/Linux/index.html">Linux(12)</a></li>
                        
                        
                        <li><a href="/categories/Java/index.html">Java(13)</a></li>
                        
                        
                        <li><a href="/categories/Design Patterns/index.html">Design Patterns(1)</a></li>
                        
                        
                        <li><a href="/categories/IntelliJ/index.html">IntelliJ(1)</a></li>
                        
                        
                        <li><a href="/categories/Eclipse/index.html">Eclipse(1)</a></li>
                        
                        
                        <li><a href="/categories/Fedora/index.html">Fedora(5)</a></li>
                        
                        
                        <li><a href="/categories/Git/index.html">Git(1)</a></li>
                        
                        
                        <li><a href="/categories/JBoss/index.html">JBoss(1)</a></li>
                        
                        
                        <li><a href="/categories/Swing/index.html">Swing(2)</a></li>
                        
                        
                        <li><a href="/categories/NetBeans/index.html">NetBeans(1)</a></li>
                        
                        
                        <li><a href="/categories/LaTeX/index.html">LaTeX(1)</a></li>
                        
                        
                        <li><a href="/categories/Jekyll/index.html">Jekyll(2)</a></li>
                        
                        
                        <li><a href="/categories/Programming/index.html">Programming(6)</a></li>
                        
                        
                        <li><a href="/categories/Scala/index.html">Scala(2)</a></li>
                        
                        
                        <li><a href="/categories/Common Lisp/index.html">Common Lisp(2)</a></li>
                        
                        
                        <li><a href="/categories/Python/index.html">Python(2)</a></li>
                        
                        
                        <li><a href="/categories/Groovy/index.html">Groovy(1)</a></li>
                        
                        
                        <li><a href="/categories/Clojure/index.html">Clojure(1)</a></li>
                        
                        
                        <li><a href="/categories/Books/index.html">Books(1)</a></li>
                        
                        
                        <li><a href="/categories/Windows/index.html">Windows(2)</a></li>
                        
                        
                        <li><a href="/categories/Rant/index.html">Rant(2)</a></li>
                        
                        
                        <li><a href="/categories/Django/index.html">Django(1)</a></li>
                        
                        
                        <li><a href="/categories/Debian/index.html">Debian(1)</a></li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <script type="text/javascript">
    var disqus_shortname = 'batsov'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    </body>
</html>
