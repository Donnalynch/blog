<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <link href="/css/site.css" type="text/css" rel="stylesheet"/>
        <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
        <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
        <title>(think) - Ruby or Python? Well, it depends...</title>

        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-22917580-1']);
            _gaq.push(['_trackPageview']);

            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();

        </script>
    </head>

    <body>
        <div id="page">
            <div id="content">
                <div id="header">
                    <h1>(think)</h1>
                    <p class="comment">/** An online novel about the Source, the Force, the real life and everything
                    in between...**/</p>
                </div>
                <div id="middle">
                    <div id="menu">
                        <ul id="list-nav">
                            <li><a href="/index.html">Home</a></li>
                            <li><a href="/archive.html">Archive</a></li>
                            <li><a href="/projects.html">Projects</a></li>
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contacts.html">Contacts</a></li>
                        </ul>
                    </div>
                    <div id="content">
                        <div id="post">
    <h2 class="title">Ruby or Python? Well, it depends...</h2>
    <p>** Disclaimer ** <em>If you&#8217;re looking for a flame post - this is not one of them. I love both languages and I&#8217;ll simply compare some of their features and possible uses.</em></p>

<p>Ruby or Python? This is the Question! Well it might not be the Question, but it&#8217;s a common question for many developers looking to break free from the statically typed language they know and learn a dynamic language. I personally know them both(though I know a bit more Ruby, than Python) and in this article I&#8217;ll share my personal opinion on their strengths and weaknesses. You&#8217;d probably do good to learn them both, but my arguments here may lead you to pick only one of the languages depending on you preferences.</p>

<h1 id='syntax__code_structure'>Syntax &amp; code structure</h1>

<p>Ruby makes heavy use of braces and keywords(like do/then/end) to delimit blocks of code. Python relies simply on indentation.</p>
<div class='highlight'><pre><code class='python'><span class='k'>def</span> <span class='nf'>fact</span><span class='p'>(</span><span class='n'>n</span><span class='p'>):</span>
    <span class='nb'>reduce</span><span class='p'>(</span><span class='k'>lambda</span> <span class='n'>x</span><span class='p'>,</span> <span class='n'>y</span><span class='p'>:</span> <span class='n'>x</span> <span class='o'>*</span> <span class='n'>y</span><span class='p'>,</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='n'>n</span> <span class='o'>+</span> <span class='mi'>1</span><span class='p'>))</span>
</code></pre>
</div>
<p>Same thing in Ruby:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>def</span> <span class='nf'>fact</span><span class='p'>(</span><span class='n'>n</span><span class='p'>)</span>
  <span class='p'>(</span><span class='mi'>1</span><span class='o'>.</span><span class='n'>.n</span><span class='p'>)</span><span class='o'>.</span><span class='n'>reduce</span><span class='p'>(</span><span class='ss'>:*</span><span class='p'>)</span>
<span class='k'>end</span>
</code></pre>
</div>
<p>I personally prefer the Python approach since it enforces the code semantics based on the code structure alone without imposing special syntax.</p>

<p>Both languages have support for &#8220;top-level&#8221; functions - that live(or seem to live) outside classes and modules(something not possible in Java for instance). This makes them good for general purpose scripting. While I would still prefer to do my system administration with shell and Perl scripts - Ruby and Python offer a solid alternative. Python has a richer system administration library so I&#8217;d prefer it over Ruby for such tasks.</p>

<p>Ruby has a lot of crust(&#8220;heritage&#8221;) from Perl - like a myriad of special variables that are now more or less deprecated. It also has much syntactic sugar. For instance predicate methods(those that return true or false) have name that end with ?(usually) like even?, odd?, prime?, etc. Methods that mutate the object on which they were invoked generally have the ! suffix - sort!, map!, etc. I find this a nice decision. In Ruby you generally have many ways to achieve the same result:</p>
<div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; 1.even?</span>
<span class='go'> =&gt; false </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr = [1, 2, 3]</span>
<span class='go'> =&gt; [1, 2, 3] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr.map { |x| x * 2 }</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr</span>
<span class='go'> =&gt; [1, 2, 3] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr.map! { |x| x * 2 }</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce(:*)</span>
<span class='go'> =&gt; 120 </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce { |x, y| x * y }</span>
<span class='go'> =&gt; 120 </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce do |x, y|</span>
<span class='go'>ruby-1.9.2-p0 &gt;     x * y</span>
<span class='go'>ruby-1.9.2-p0 ?&gt;  end</span>
<span class='go'> =&gt; 120 </span>
</code></pre>
</div>
<p>No such things in Python, however. Python&#8217;s philosophy is one of simplicity - no excessive syntax sugar, one true way of doing things.</p>

<p>Both languages have powerful features for organising code in libraries. I would not go into any details on the subject here, but I&#8217;ll share with you the fact that I like Python&#8217;s more.</p>

<p>Both languages come with a REPL in which you can do some exploratory programming. Ruby&#8217;s REPL(irb) seems to me more advanced since it allows you to do TAB smart completion(amongst other things).</p>

<p>Ruby and Python do not have statements - only expressions. This basically means that everything(objects, method calls) evaluate to some value(though the value might not be helpful always). One thing I dislike about the Python REPL is that it doesn&#8217;t print None values. Compare this bit of Python code:</p>
<div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='k'>print</span><span class='p'>(</span><span class='s'>&quot;this is a test&quot;</span><span class='p'>)</span>
<span class='go'>this is a test</span>
</code></pre>
</div>
<p>to this Ruby snippet:</p>
<div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; puts &quot;this is a test&quot;</span>
<span class='go'>this is a test</span>
<span class='go'> =&gt; nil </span>
</code></pre>
</div>
<p>In the Python version we see only the side-effect(the printing), but not the return value.</p>

<h1 id='oop_support'>OOP support</h1>

<p>Both Ruby and Python are famous members of the family of object oriented languages. Unlike languages such as Java and C#, however, Ruby and Python are pure OOP languages. There is no distinction between primitive types(such as numbers, characters and booleans) and reference types(classes). Everything in them is an object and in that sense it&#8217;s an instance of some class:</p>
<div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;int&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='s'>&quot;string&quot;</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;str&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='mf'>20.07</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;float&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>([</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>])</span>
<span class='go'>&lt;type &#39;list&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>((</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>))</span>
<span class='go'>&lt;type &#39;tuple&#39;&gt;</span>
</code></pre>
</div>
<p>And in Ruby:</p>
<div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; 10.class</span>
<span class='go'> =&gt; Fixnum </span>
<span class='go'>ruby-1.9.2-p0 &gt; &quot;string&quot;.class</span>
<span class='go'> =&gt; String </span>
<span class='go'>ruby-1.9.2-p0 &gt; [].class</span>
<span class='go'> =&gt; Array </span>
</code></pre>
</div>
<p>As you can see core Ruby classes tend to have a bit more standard and descriptive names than their Python counterparts. You can also notice that in Python for some task we use built-in functions like type, instead of method calls. The built-in function will eventually result in a method invocation(like &#8220;string&#8221;.__class__ in the case of type(&#8220;string&#8221;)), but I find this irregularity in the syntax a bit irritating.</p>

<p>Method invocation is more flexible in Ruby - you can omit braces in some scenarios. This is handy when you&#8217;re designing a DSL or you&#8217;re trying to implement the uniform access patterns(data should be accessed through fields and methods in the same manner(read this as with no braces in method invocations)). On the other hand Python&#8217;s uniform syntax makes it easier to spot method invocations.</p>

<p>Both languages don&#8217;t have operators - just methods. Ruby&#8217;s OO support seems to be a bit more mature and polished(at least to me), but Python&#8217;s has some touches as well. I particularly like the explicit self references that are required when you try to access class members. I&#8217;m not too found of the use of special sigils in Ruby to mark instance(@) and class members(@@). Though they make them visually distinctive I think we could have lived without them - I&#8217;m generally not a fan of non-uniform syntax rules(and you guessed it - my favourite language is Lisp).</p>

<p>Ruby&#8217;s metaprogramming model arguably gives it an edge in the OOP department, but I won&#8217;t be discussing the metaprogramming issues here since they are quite lengthy.</p>

<h1 id='functional_programming_support'>Functional programming support</h1>

<p>Functional programming has been on the rise lately and it&#8217;s useful to examine what kind of support both languages provide for it. Both have support for lambda functions and respectively - higher-order functions(functions that accept functions as parameters). Ruby has code blocks, Python has list comprehensions(generally favoured over higher-order functions). Both languages lack in their standard libs the immutable data structures that generally are the code of most functional programming languages. Here&#8217;s a few example related to filtering a sequence based on some predicate:</p>
<div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='nb'>filter</span><span class='p'>(</span><span class='k'>lambda</span> <span class='n'>x</span><span class='p'>:</span> <span class='n'>x</span> <span class='o'>%</span> <span class='mi'>2</span> <span class='o'>==</span> <span class='mi'>0</span><span class='p'>,</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>11</span><span class='p'>))</span>
<span class='go'>[2, 4, 6, 8, 10]</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='p'>[</span><span class='n'>x</span> <span class='k'>for</span> <span class='n'>x</span> <span class='ow'>in</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>11</span><span class='p'>)</span> <span class='k'>if</span> <span class='n'>x</span> <span class='o'>%</span> <span class='mi'>2</span> <span class='o'>==</span> <span class='mi'>0</span><span class='p'>]</span>
<span class='go'>[2, 4, 6, 8, 10]</span>
</code></pre>
</div>
<p>Ruby:</p>
<div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; (1..10).select { |x| x.even? }</span>
<span class='go'> =&gt; [2, 4, 6, 8, 10] </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..10).select &amp;:even?</span>
<span class='go'> =&gt; [2, 4, 6, 8, 10] </span>
</code></pre>
</div>
<p>Ruby&#8217;s functional programming support seems to be better to me, but this is of course subjective.</p>

<h1 id='gui_programming'>GUI programming</h1>

<p>Python has tkinker by default - a wrapper around the Tk library(which sucks in my humble opinion). Ruby doesn&#8217;t have even this much. Both have binding for the popular GUI toolkits such wxwidgets, GTK, QT. From my experimentation with them I can tell you that you&#8217;ll be much better off with Python in that department. It&#8217;s not wonder that many GTK+ applications these days are implemented in Python. Most Ruby bindings projects seem to be in a state of disarray, abandonment - I guess we have to thank Rails for that. Most people think of Rails as the only use of Ruby which is sad&#8230;</p>

<p>Ruby devs shouldn&#8217;t despair however. JRuby(Ruby&#8217;s port to the JVM) has an excellent support for the superb Swing GUI framework and MacRuby has great support for building Cocoa Apps for OS X. I personally think that JRuby is the best Ruby distribution out there, but that&#8217;s the point of another post entirely.</p>

<h1 id='misc'>Misc</h1>

<p>In terms of performance of the default interpreters CPython and MRI Ruby Python is the clear winner. One should note, however, is that there are many how quality implementation of Ruby and Python for different platforms where the performance situation differs wildly. For instance Jython is much slower that JRuby. With the addition of invoke_dynamic in JDK7(basically bytecode level support for dynamic method dispatch) the performance of JRuby and Jython could potentially be improved greatly.</p>

<p>In terms of overall usage, market share, job offers and sheer size of the community and available libraries Python is ahead of Ruby as well. One of the main supporters of Python is after all none other than the mighty Google. Ruby has also the unfortunate luck to be living in the shadow of a single application written in Ruby - Ruby on Rails, that is arguably more popular than the language itself.</p>

<p>Tooling for dynamic languages is currently not as advance as the one for static languages. People often joke that Python(Ruby) &gt; Java(C#), but Python + any python IDE &lt; Java + IntelliJ IDEA(Eclipse/NetBeans). Python and Ruby IDEs seem to be mostly on par currently. I do all of my Ruby and Python coding in Emacs, but I do like RubyMine and PyCharm.</p>

<p>Since they are often used for the creation of webapps one should consider the deployment issue. Most web hosting companies provide cheap Python hosting, but very few companies provide Ruby hosting.</p>

<h1 id='the_python_3_problem'>The Python 3 problem</h1>

<p>Python 3 was a great undertaking that improved on a lot of aspects of the language(for example Unicode support) and the standard library. To do this it dropped backward compatibility, an act that slowed it&#8217;s adoption immensely. Three years have passed since it&#8217;s release and still most hosting providers, Linux distros and Python projects hold on to the older 2.7.x Python branch.</p>

<p>This is a bit of tragedy since Python 3 is truly a great improvement over Python 2. I mention this because most recent books are written with Python 3 in mind, but if you land a Python jobs somewhere chances are you&#8217;ll have to use Python 2.x.x for the foreseeable future.</p>

<h1 id='conclusion'>Conclusion</h1>

<p>Ruby and Python are two beautifully engineered languages capable of just about everything. If you don&#8217;t know any of them you&#8217;ll do well to learn at least one. If you know only one it might not be a terrible idea to learn the other.</p>

<p>I haven&#8217;t touched on many language features(like Python generators and Ruby mixins), but to be honest I&#8217;m just tired of typing. One good place to start your journey to Python is <a href='http://diveintopython3.org/'>&#8220;Dive into Python 3&#8221;</a>. For Ruby beginners I&#8217;d recommend a copy of <a href='http://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177'>&#8220;The Ruby Programming Language&#8221;</a>.</p>
    <div style="font-style: italic; color: #7f9f7f;">Posted on 03 May 2011 by Bozhidar.</div>
    <hr />
    <div id="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'batsov'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    var disqus_identifier = document.location.href;
    var disqus_url = document.location.href;

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>

                    </div>
                </div>
                <div id="footer">
                    Copyright &copy; 2010-2011 <a href="mailto:bozhidar.batsov@gmail.com">Bozhidar Batsov</a>. All Rights Reserved.
                    <br/>
                    Powered by <a href="http://jekyllrb.com/">Jekyll</a>.
                </div>
            </div>
            <div id="sidebar">
                <div id="twitter">
                    <script src="http://widgets.twimg.com/j/2/widget.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        new TWTR.Widget({
                        version: 2,
                        type: 'profile',
                        rpp: 4,
                        interval: 6000,
                        width: 250,
                        height: 300,
                        theme: {
                        shell: {
                        background: '#333333',
                        color: '#ffffff'
                        },
                        tweets: {
                        background: '#000000',
                        color: '#ffffff',
                        links: '#4aed05'
                        }
                        },
                        features: {
                        scrollbar: false,
                        loop: false,
                        live: false,
                        hashtags: true,
                        timestamp: true,
                        avatars: false,
                        behavior: 'all'
                        }
                        }).render().setUser('bbatsov').start();
                    </script>
                </div>
            </div>
        </div>
        <script type="text/javascript">
    var disqus_shortname = 'batsov'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    </body>
</html>
