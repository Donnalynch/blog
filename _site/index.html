<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <link href="/css/site.css" type="text/css" rel="stylesheet"/>
        <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
        <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
        <title>(think) - Blogs posts</title>

        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-22917580-1']);
            _gaq.push(['_trackPageview']);

            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();

        </script>
    </head>

    <body>
        <div id="page">
            <div id="content">
                <div id="header">
                    <h1>(think)</h1>
                    <p class="comment">/** An online novel about the Source, the Force, the real life and everything
                    in between...**/</p>
                </div>
                <div id="middle">
                    <div id="menu">
                        <ul id="list-nav">
                            <li><a href="/index.html">Home</a></li>
                            <li><a href="/archive.html">Archive</a></li>
                            <li><a href="/projects.html">Projects</a></li>
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contacts.html">Contacts</a></li>
                        </ul>
                    </div>
                    <div id="content">
                        <h2 id='ruby_or_python_well_it_depends'><a href='/2011/05/03/ruby-or-python.html'>Ruby or Python? Well, it depends&#8230;</a></h2>
<p>** Disclaimer ** <em>If you&#8217;re looking for a flame post - this is not one of them. I love both languages and I&#8217;ll simply compare some of their features and possible uses.</em></p><p>Ruby or Python? This is the Question! Well it might not be the Question, but it&#8217;s a common question for many developers looking to break free from the statically typed language they know and learn a dynamic language. I personally know them both(though I know a bit more Ruby, than Python) and in this article I&#8217;ll share my personal opinion on their strengths and weaknesses. You&#8217;d probably do good to learn them both, but my arguments here may lead you to pick only one of the languages depending on you preferences.</p><h1 id='syntax__code_structure'>Syntax &amp; code structure</h1><p>Ruby makes heavy use of braces and keywords(like do/then/end) to delimit blocks of code. Python relies simply on indentation.</p><div class='highlight'><pre><code class='python'><span class='k'>def</span> <span class='nf'>fact</span><span class='p'>(</span><span class='n'>n</span><span class='p'>):</span>
    <span class='nb'>reduce</span><span class='p'>(</span><span class='k'>lambda</span> <span class='n'>x</span><span class='p'>,</span> <span class='n'>y</span><span class='p'>:</span> <span class='n'>x</span> <span class='o'>*</span> <span class='n'>y</span><span class='p'>,</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='n'>n</span> <span class='o'>+</span> <span class='mi'>1</span><span class='p'>))</span>
</code></pre>
</div><p>Same thing in Ruby:</p><div class='highlight'><pre><code class='ruby'><span class='k'>def</span> <span class='nf'>fact</span><span class='p'>(</span><span class='n'>n</span><span class='p'>)</span>
  <span class='p'>(</span><span class='mi'>1</span><span class='o'>.</span><span class='n'>.n</span><span class='p'>)</span><span class='o'>.</span><span class='n'>reduce</span><span class='p'>(</span><span class='ss'>:*</span><span class='p'>)</span>
<span class='k'>end</span>
</code></pre>
</div><p>I personally prefer the Python approach since it enforces the code semantics based on the code structure alone without imposing special syntax.</p><p>Both languages have support for &#8220;top-level&#8221; functions - that live(or seem to live) outside classes and modules(something not possible in Java for instance). This makes them good for general purpose scripting. While I would still prefer to do my system administration with shell and Perl scripts - Ruby and Python offer a solid alternative. Python has a richer system administration library so I&#8217;d prefer it over Ruby for such tasks.</p><p>Ruby has a lot of crust(&#8220;heritage&#8221;) from Perl - like a myriad of special variables that are now more or less deprecated. It also has much syntactic sugar. For instance predicate methods(those that return true or false) have name that end with ?(usually) like even?, odd?, prime?, etc. Methods that mutate the object on which they were invoked generally have the ! suffix - sort!, map!, etc. I find this a nice decision. In Ruby you generally have many ways to achieve the same result:</p><div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; 1.even?</span>
<span class='go'> =&gt; false </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr = [1, 2, 3]</span>
<span class='go'> =&gt; [1, 2, 3] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr.map { |x| x * 2 }</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr</span>
<span class='go'> =&gt; [1, 2, 3] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr.map! { |x| x * 2 }</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; arr</span>
<span class='go'> =&gt; [2, 4, 6] </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce(:*)</span>
<span class='go'> =&gt; 120 </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce { |x, y| x * y }</span>
<span class='go'> =&gt; 120 </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..5).reduce do |x, y|</span>
<span class='go'>ruby-1.9.2-p0 &gt;     x * y</span>
<span class='go'>ruby-1.9.2-p0 ?&gt;  end</span>
<span class='go'> =&gt; 120 </span>
</code></pre>
</div><p>No such things in Python, however. Python&#8217;s philosophy is one of simplicity - no excessive syntax sugar, one true way of doing things.</p><p>Both languages have powerful features for organising code in libraries. I would not go into any details on the subject here, but I&#8217;ll share with you the fact that I like Python&#8217;s more.</p><p>Both languages come with a REPL in which you can do some exploratory programming. Ruby&#8217;s REPL(irb) seems to me more advanced since it allows you to do TAB smart completion(amongst other things).</p><p>Ruby and Python do not have statements - only expressions. This basically means that everything(objects, method calls) evaluate to some value(though the value might not be helpful always). One thing I dislike about the Python REPL is that it doesn&#8217;t print None values. Compare this bit of Python code:</p><div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='k'>print</span><span class='p'>(</span><span class='s'>&quot;this is a test&quot;</span><span class='p'>)</span>
<span class='go'>this is a test</span>
</code></pre>
</div><p>to this Ruby snippet:</p><div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; puts &quot;this is a test&quot;</span>
<span class='go'>this is a test</span>
<span class='go'> =&gt; nil </span>
</code></pre>
</div><p>In the Python version we see only the side-effect(the printing), but not the return value.</p><h1 id='oop_support'>OOP support</h1><p>Both Ruby and Python are famous members of the family of object oriented languages. Unlike languages such as Java and C#, however, Ruby and Python are pure OOP languages. There is no distinction between primitive types(such as numbers, characters and booleans) and reference types(classes). Everything in them is an object and in that sense it&#8217;s an instance of some class:</p><div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;int&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='s'>&quot;string&quot;</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;str&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>(</span><span class='mf'>20.07</span><span class='p'>)</span>
<span class='go'>&lt;type &#39;float&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>([</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>])</span>
<span class='go'>&lt;type &#39;list&#39;&gt;</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='nb'>type</span><span class='p'>((</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>))</span>
<span class='go'>&lt;type &#39;tuple&#39;&gt;</span>
</code></pre>
</div><p>And in Ruby:</p><div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; 10.class</span>
<span class='go'> =&gt; Fixnum </span>
<span class='go'>ruby-1.9.2-p0 &gt; &quot;string&quot;.class</span>
<span class='go'> =&gt; String </span>
<span class='go'>ruby-1.9.2-p0 &gt; [].class</span>
<span class='go'> =&gt; Array </span>
</code></pre>
</div><p>As you can see core Ruby classes tend to have a bit more standard and descriptive names than their Python counterparts. You can also notice that in Python for some task we use built-in functions like type, instead of method calls. The built-in function will eventually result in a method invocation(like &#8220;string&#8221;.__class__ in the case of type(&#8220;string&#8221;)), but I find this irregularity in the syntax a bit irritating.</p><p>Method invocation is more flexible in Ruby - you can omit braces in some scenarios. This is handy when you&#8217;re designing a DSL or you&#8217;re trying to implement the uniform access patterns(data should be accessed through fields and methods in the same manner(read this as with no braces in method invocations)). On the other hand Python&#8217;s uniform syntax makes it easier to spot method invocations.</p>
<p><p>Both languages don&#8217;t have operators - just methods. Ruby&#8217;s OO support seems to be a bit more mature and polished(at least to me), but Python&#8217;s has some touches as well. I particularly like the explicit self references that are required when you try to access class members. I&#8217;m not too found of the use of special sigils in Ruby to mark instance(@) and class members(@@). Though they make them visually distinctive I think we could have lived without them - I&#8217;m generally not a fan of non-uniform syntax rules(and you guessed it - my favourite language is Lisp).</p></p>
<p>Ruby&#8217;s metaprogramming model arguably gives it an edge in the OOP department, but I won&#8217;t be discussing the metaprogramming issues here since they are quite lengthy.</p><h1 id='functional_programming_support'>Functional programming support</h1><p>Functional programming has been on the rise lately and it&#8217;s useful to examine what kind of support both languages provide for it. Both have support for lambda functions and respectively - higher-order functions(functions that accept functions as parameters). Ruby has code blocks, Python has list comprehensions(generally favoured over higher-order functions). Both languages lack in their standard libs the immutable data structures that generally are the code of most functional programming languages. Here&#8217;s a few example related to filtering a sequence based on some predicate:</p><div class='highlight'><pre><code class='pycon'><span class='gp'>&gt;&gt;&gt; </span><span class='nb'>filter</span><span class='p'>(</span><span class='k'>lambda</span> <span class='n'>x</span><span class='p'>:</span> <span class='n'>x</span> <span class='o'>%</span> <span class='mi'>2</span> <span class='o'>==</span> <span class='mi'>0</span><span class='p'>,</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>11</span><span class='p'>))</span>
<span class='go'>[2, 4, 6, 8, 10]</span>
<span class='gp'>&gt;&gt;&gt; </span><span class='p'>[</span><span class='n'>x</span> <span class='k'>for</span> <span class='n'>x</span> <span class='ow'>in</span> <span class='nb'>range</span><span class='p'>(</span><span class='mi'>1</span><span class='p'>,</span> <span class='mi'>11</span><span class='p'>)</span> <span class='k'>if</span> <span class='n'>x</span> <span class='o'>%</span> <span class='mi'>2</span> <span class='o'>==</span> <span class='mi'>0</span><span class='p'>]</span>
<span class='go'>[2, 4, 6, 8, 10]</span>
</code></pre>
</div><p>Ruby:</p><div class='highlight'><pre><code class='irb'><span class='go'>ruby-1.9.2-p0 &gt; (1..10).select { |x| x.even? }</span>
<span class='go'> =&gt; [2, 4, 6, 8, 10] </span>
<span class='go'>ruby-1.9.2-p0 &gt; (1..10).select &amp;:even?</span>
<span class='go'> =&gt; [2, 4, 6, 8, 10] </span>
</code></pre>
</div><p>Ruby&#8217;s functional programming support seems to be better to me, but this is of course subjective.</p><h1 id='gui_programming'>GUI programming</h1><p>Python has tkinker by default - a wrapper around the Tk library(which sucks in my humble opinion). Ruby doesn&#8217;t have even this much. Both have binding for the popular GUI toolkits such wxwidgets, GTK, QT. From my experimentation with them I can tell you that you&#8217;ll be much better off with Python in that department. It&#8217;s not wonder that many GTK+ applications these days are implemented in Python. Most Ruby bindings projects seem to be in a state of disarray, abandonment - I guess we have to thank Rails for that. Most people think of Rails as the only use of Ruby which is sad&#8230;</p><p>Ruby devs shouldn&#8217;t despair however. JRuby(Ruby&#8217;s port to the JVM) has an excellent support for the superb Swing GUI framework and MacRuby has great support for building Cocoa Apps for OS X. I personally think that JRuby is the best Ruby distribution out there, but that&#8217;s the point of another post entirely.</p><h1 id='misc'>Misc</h1><p>In terms of performance of the default interpreters CPython and MRI Ruby Python is the clear winner. One should note, however, is that there are many how quality implementation of Ruby and Python for different platforms where the performance situation differs wildly. For instance Jython is much slower that JRuby. With the addition of invoke_dynamic in JDK7(basically bytecode level support for dynamic method dispatch) the performance of JRuby and Jython could potentially be improved greatly.</p><p>In terms of overall usage, market share, job offers and sheer size of the community and available libraries Python is ahead of Ruby as well. One of the main supporters of Python is after all none other than the mighty Google. Ruby has also the unfortunate luck to be living in the shadow of a single application written in Ruby - Ruby on Rails, that is arguably more popular than the language itself.</p><p>Tooling for dynamic languages is currently not as advance as the one for static languages. People often joke that Python(Ruby) &gt; Java(C#), but Python + any python IDE &lt; Java + IntelliJ IDEA(Eclipse/NetBeans). Python and Ruby IDEs seem to be mostly on par currently. I do all of my Ruby and Python coding in Emacs, but I do like RubyMine and PyCharm.</p><p>Since they are often used for the creation of webapps one should consider the deployment issue. Most web hosting companies provide cheap Python hosting, but very few companies provide Ruby hosting.</p><h1 id='the_python_3_problem'>The Python 3 problem</h1><p>Python 3 was a great undertaking that improved on a lot of aspects of the language(for example Unicode support) and the standard library. To do this it dropped backward compatibility, an act that slowed it&#8217;s adoption immensely. Three years have passed since it&#8217;s release and still most hosting providers, Linux distros and Python projects hold on to the older 2.7.x Python branch.</p><p>This is a bit of tragedy since Python 3 is truly a great improvement over Python 2. I mention this because most recent books are written with Python 3 in mind, but if you land a Python jobs somewhere chances are you&#8217;ll have to use Python 2.x.x for the foreseeable future.</p><h1 id='conclusion'>Conclusion</h1><p>Ruby and Python are two beautifully engineered languages capable of just about everything. If you don&#8217;t know any of them you&#8217;ll do well to learn at least one. If you know only one it might not be a terrible idea to learn the other.</p><p>I haven&#8217;t touched on many language features(like Python generators and Ruby mixins), but to be honest I&#8217;m just tired of typing. One good place to start your journey to Python is <a href='http://diveintopython3.org/'>&#8220;Dive into Python 3&#8221;</a>. For Ruby beginners I&#8217;d recommend a copy of <a href='http://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177'>&#8220;The Ruby Programming Language&#8221;</a>.</p><div style='font-style: italic; color: #7f9f7f;'>Posted on 03 May 2011 by Bozhidar.</div>
<p><a href='/2011/05/03/ruby-or-python.html#disqus_thread'>Comments</a></p>

<h2 id='parsing_numbers_from_string_in_common_lisp'><a href='/2011/04/30/parsing-numbers-from-string-in-lisp.html'>Parsing numbers from string in Common Lisp</a></h2>
<p>One task that often recurs in programming is the need to parse a string representation a number(or several numbers) and convert it to its numeric value. Parsing integer value in Common Lisp is fairly straightforward process - we have the built-in function <strong>PARSE-INTEGER</strong>:</p><div class='highlight'><pre><code class='cl'><span class='p'>(</span><span class='nb'>parse-integer</span> <span class='s'>&quot;100&quot;</span><span class='p'>)</span> <span class='c1'>;; =&gt; 100</span>
<span class='p'>(</span><span class='nb'>parse-integer</span> <span class='s'>&quot;100&quot;</span> <span class='ss'>:radix</span> <span class='mi'>2</span><span class='p'>)</span> <span class='c1'>;; =&gt; 4</span>
</code></pre>
</div><p>As you can see the function allows you to parse a string representation of a number in an arbitrary base system(the default is the <em>decimal</em>). With the keyword argument <strong>:radix</strong> you can specify a base in the interval 2-36. The function has a few other fancy capabilities as well - like the ability to process only a part of the string that has been passed to it and to ignore junk in the input string. For all the gory details refer to the <a href='http://www.lispworks.com/documentation/HyperSpec/Body/f_parse_.htm'>Lisp HyperSpec</a>.</p><p>The problem that most Lisper face soon after is that there is no matching function PARSE-FLOAT or PARSE-DOUBLE. I&#8217;m not sure what technical reason is hidden beneath this design decision, but I know of simple way to parse floating point numbers non-the-less. It&#8217;s built around the <strong>READ</strong>(The R in REPL) function that allows you read any S-expression from a string form. The READ function then returns a Lisp object corresponding to the S-expression read. With that knowledge and the fact that READ accepts as an optional argument an input stream from which to read that S-expression(the default is the the standard input) we can write the following bit of parsing code:</p><div class='highlight'><pre><code class='cl'><span class='p'>(</span><span class='nb'>with-input-from-string</span> <span class='p'>(</span><span class='nv'>in</span> <span class='s'>&quot;3.14&quot;</span><span class='p'>)</span>
  <span class='p'>(</span><span class='nb'>read</span> <span class='nv'>in</span><span class='p'>))</span>
</code></pre>
</div><p>Here we created an input stream that&#8217;s bound to the string &#8220;3.14&#8221; and read one S-expression from it - the floating point object 3.14.</p><p>We can even build a more general solution that parses several numbers in a string, regardless of their actual type(integer or floating point):</p><div class='highlight'><pre><code class='cl'><span class='p'>(</span><span class='nb'>with-input-from-string</span> <span class='p'>(</span><span class='nv'>in</span> <span class='s'>&quot;3.14 5.646 4 9.6&quot;</span><span class='p'>)</span>
  <span class='p'>(</span><span class='nb'>loop</span> <span class='nv'>for</span> <span class='nv'>x</span> <span class='nb'>=</span> <span class='p'>(</span><span class='nb'>read</span> <span class='nv'>in</span> <span class='no'>nil</span> <span class='no'>nil</span><span class='p'>)</span> <span class='nv'>while</span> <span class='nv'>x</span> <span class='nv'>collect</span> <span class='nv'>x</span><span class='p'>))</span>
<span class='c1'>;; =&gt; (3.14 5.646 4 9.6)</span>
</code></pre>
</div><p>Hopefully this short article has been helpful. You&#8217;ve also witnessed one of the practical benefits of having the code in Lisp represented as data.</p><div style='font-style: italic; color: #7f9f7f;'>Posted on 30 Apr 2011 by Bozhidar.</div>
<p><a href='/2011/04/30/parsing-numbers-from-string-in-lisp.html#disqus_thread'>Comments</a></p>

<h2 id='one_shell_to_rule_them_all'><a href='/2011/04/29/one-shell-to-rule-them-all.html'>One shell to rule them all&#8230;</a></h2>
<p>I&#8217;ve been using zsh for about three years now and continue to be impressed the its immense power and flexibility. Switching from bash to zsh was a decision as good as switching from Windows to GNU/Linux, from vim to Emacs, from Eclipse to IntelliJ IDEA. In other words - it was an extremely good decision. :-)</p><p>So I want to finally get the word out, showcase some nice zsh features and probably persuade a couple of bash users to try it. Be warned, however - after you try it there is no going back&#8230;</p><h2 id='getting_started'>Getting started</h2><p>Most distros come with bash by default so you&#8217;ll probably need to install zsh first and configure it as your user&#8217;s shell. On Fedora you&#8217;d do:</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar ~]$ sudo yum install zsh</span>
</code></pre>
</div></p></p>
<p>The edit /etc/password and set there zsh as your shell:</p><p>bozhidar:x:500:500:Bozhidar Batsov:/home/bozhidar:/bin/zsh</p><p>The next time you login a terminal wizard with start up asking you about some basic zsh options that you might want to enable. I suggest you to enable them all except the beep option. In the end the wizard will save the new configuration to the file .zshrc in your user&#8217;s home folder.</p><p>Alternatively you may just use a preconfigured .zshrc, like this one:</p><div class='highlight'><pre><code class='bash'><span class='c'># Lines configured by zsh-newuser-install</span>
<span class='nv'>HISTFILE</span><span class='o'>=</span>~/.histfile
<span class='nv'>HISTSIZE</span><span class='o'>=</span>1000
<span class='nv'>SAVEHIST</span><span class='o'>=</span>1000
setopt appendhistory autocd extendedglob nomatch notify correct_all
unsetopt beep
bindkey -e
<span class='c'># End of lines configured by zsh-newuser-install</span>
<span class='c'># The following lines were added by compinstall</span>
zstyle :compinstall filename <span class='s1'>&#39;/home/bozhidar/.zshrc&#39;</span>

autoload -Uz compinit
compinit
<span class='c'># End of lines added by compinstall</span>
</code></pre>
</div><p>I don&#8217;t like very much the default zsh prompt and I generally change it right away. Have a look at my other <a href='/2008/07/27/zsh-prompt.html'>short article</a> on the topic.</p><p>There a couple of configuration files related to zsh that you should know about:</p><ul>
<li>.zshrc - runs for each new shell(roughly equivalent to .bashrc)</li>

<li>.zprofile - runs only for login shells(like .bash_profile)</li>

<li>.zlogout - runs on logout</li>

<li>.zshenv - holds environmental variables</li>
</ul><p>Here&#8217;s an example .zshenv file:</p><div class='highlight'><pre><code class='bash'><span class='nb'>export </span><span class='nv'>JAVA_HOME</span><span class='o'>=</span>/usr/java/latest

<span class='nb'>export </span><span class='nv'>SCALA_HOME</span><span class='o'>=</span>/opt/scala-2.8.1.final

<span class='nb'>export </span><span class='nv'>M2_HOME</span><span class='o'>=</span>/opt/apache-maven-3.0.2

<span class='nb'>export </span><span class='nv'>EDITOR</span><span class='o'>=</span><span class='s2'>&quot;emacsclient -t&quot;</span>
<span class='nb'>export </span><span class='nv'>ALTERNATE_EDITOR</span><span class='o'>=</span><span class='s2'>&quot;&quot;</span>

<span class='c'>#needed to properly display complex color-themes in Emacs and vim</span>
<span class='nb'>export </span><span class='nv'>TERM</span><span class='o'>=</span>xterm-256color

<span class='nb'>typeset</span> -U path
<span class='nv'>path</span><span class='o'>=(</span><span class='nv'>$M2_HOME</span>/bin <span class='nv'>$SCALA_HOME</span>/bin ~/bin ~/Projects/work/bin <span class='nv'>$path</span><span class='o'>)</span>
</code></pre>
</div><p>Please note the way in which the PATH variable is set in zsh, which differs substantially from bash(it&#8217;s just exported there as any other variable).</p><h2 id='playing_around'>Playing around</h2><p>At this point you have the legendary zsh autocompletion configured and you have enabled many of the zsh core features.</p><p><strong>autocd</strong> allows you to navigate to folders only with their name without the cd command. One of my favourite features. Now you can do things like:</p><div class='highlight'><pre><code class='console'><span class='go'>  </span>
<span class='go'>[bozhidar@bozhidar ~]$ Downloads   </span>
<span class='go'>[bozhidar@bozhidar ~/Downloads]$</span>
</code></pre>
</div><p>Instead of:</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar ~]$ cd Downloads   </span>
<span class='go'>[bozhidar@bozhidar ~/Downloads]$</span>
</code></pre>
</div></p></p>
<p>By the way autocd was added in bash 4.0 as well. You can enable it there with:</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar ~]$ shopt -s autocd</span>
</code></pre>
</div></p></p>
<p><strong>appendhistory</strong> all your open shells share the same history which is handy if you want to refer commands from one shell in another with say Ctrl+R(reverse-history-search)</p><p><strong>extendedglob</strong> allows you to recursive look for files in folders:</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar ~]$ ls somedir/**/Makefile</span>
</code></pre>
</div></p></p>
<p>is equivalent to:</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar ~]$ find somedir -name Makefile</span>
</code></pre>
</div></p></p>
<p>Most zsh users never use find for simple file look up. This feature was also added to bash 4.0 but it works in a slightly different manner.</p><div class='highlight'><pre><code class='console'><span class='gp'>$</span> <span class='nb'>shopt</span> -s extglob
</code></pre>
</div><p><strong>correct</strong> - autocorrects mistyped commands</p>
<p><p><div class='highlight'><pre><code class='console'><span class='go'>[bozhidar@bozhidar]$ cta ~/.zshrc </span>
<span class='go'>zsh: correct &#39;cta&#39; to &#39;cat&#39; [nyae]?</span>
</code></pre>
</div></p></p>
<h1 id='keybindings'>Keybindings</h1><p>By default zsh uses Emacs keybindings which is perfect for a long time Emacs user like me. zsh doesn&#8217;t use readline, instead it has its own line editing library called zle, which is much more powerful. vi users are not forgotten and can switch zsh to vi keybindings with the command:</p><div class='highlight'><pre><code class='console'><span class='go'>bindkey -v</span>
</code></pre>
</div><p>Mind that by default you&#8217;ll be in &#8220;insert&#8221; mode and have to press ESC to go into command mode.</p><p>You can also create custom keybindings like this:</p><div class='highlight'><pre><code class='console'><span class='go'>bindkey &#39;^[[H&#39; beginning-of-line</span>
<span class='go'>bindkey &#39;^[[F&#39; end-of-line</span>
</code></pre>
</div><p>This will bind the Home and End keys to the commands beginning-of-line and end-of-line.</p><h1 id='aliases'>Aliases</h1><p>Zsh has three different kinds of shell aliases.</p><p><strong>Regular</strong> - same as in bash:</p><div class='highlight'><pre><code class='console'><span class='go'>alias ll=&#39;ls -l&#39;</span>
</code></pre>
</div><p><strong>Suffix</strong> - suffix aliases are supported in zsh since version 4.2.0. Some examples:</p><div class='highlight'><pre><code class='console'><span class='go'>alias -s tex=emacs</span>
<span class='go'>alias -s html=google-chrome</span>
</code></pre>
</div><p>Now when you type in the console</p><div class='highlight'><pre><code class='console'><span class='gp'>$</span> somefile.tex
</code></pre>
</div><p>it will be opened automatically with Emacs. Similarly somefile.html would be opened by google-chrome. As you might imagine this feature is quite handy.</p><p><strong>Global</strong> - global aliases can be used anywhere in the command line(as opposed to regular aliases that can used only in the beginning). Example:</p><div class='highlight'><pre><code class='console'><span class='go'>alias -g ...=&#39;../..&#39;</span>
<span class='go'>cd ...  </span>
</code></pre>
</div><h1 id='some_tips_and_tricks'>Some tips and tricks</h1><ul>
<li>
<p>press Alt+q in the middle of a command you&#8217;re typing. This will clear the console prompt and allow you execute another command(like a man lookup). Afterwards the things you&#8217;ve typed before the Alt+q will magically reappear.</p>
</li>

<li>
<p>Imagine you&#8217;re in the folder <strong>project/4.0/module</strong>. Typing:</p>
</li>
</ul><div class='highlight'><pre><code class='console'><span class='go'>cd 4.0 5.0 </span>
</code></pre>
</div><p>Will take you to a folder named project/5.0/module(assuming that it exists of course). In general the command has the format <code>cd old new</code>.</p><ul>
<li>zsh comes with a built-in pager(similar to less). To try it just type </li>
</ul><h1 id='conclusion'>Conclusion</h1><p>There is no easy way to sum up everything that makes zsh great in a single blog post. I&#8217;ll try to expand and improve it in time. I hope I&#8217;ve whetted your appetite to try out zsh. If you like it well enough(of which I&#8217;m most certain you should have a look at the resources in the end as well).</p><h1 id='useful_resources'>Useful resources</h1><ul>
<li><a href='http://www.bash2zsh.com/zsh_refcard/refcard.pdf'>zsh reference card</a></li>

<li><a href='http://zsh.sourceforge.net/Doc/zsh_a4.pdf'>zsh manual</a></li>

<li><a href='http://zsh.sourceforge.net/Guide/zshguide.html'>&#8220;A User&#8217;s Guide to Z-Shell&#8221;</a></li>

<li><a href='http://zshwiki.org/home/'>zsh wiki</a></li>

<li><a href='http://grml.org/zsh/zsh-lovers.html'>zsh lovers</a> - collection of tips and tricks</li>

<li><a href='http://www.bash2zsh.com/'>&#8220;From Bash to Z Shell - Conquering the Command Line&#8221;</a></li>
</ul><div style='font-style: italic; color: #7f9f7f;'>Posted on 29 Apr 2011 by Bozhidar.</div>
<p><a href='/2011/04/29/one-shell-to-rule-them-all.html#disqus_thread'>Comments</a></p>

<h2 id='career_development__should_i_stay_or_should_i_go'><a href='/2011/04/29/career-development.html'>Career development - Should I stay or should I go?</a></h2>
<p>I guess nothing describes more appropriately the essence of career development than the famous song by <a href='http://www.youtube.com/watch?v=V1Gn0e7kvTA'>The Clash</a>.</p><p>We generally have two options in front of us when we consider our careers - stay at our current company and hope to advance in it or jump ship to a new hopefully better job in another company. Both have their pros and cons which I&#8217;ll shortly discuss. Mind, though, that I&#8217;m no HR specialist or a pro career adviser so you&#8217;d do well not to rely on my writing a 100%. Also everything I&#8217;ll write comes from my own experience as professional software engineer. I guess some of my advice will not apply to other careers.</p><h1 id='stay_at_my_current_company'>Stay at my current company</h1><p><strong>Disclaimer</strong> - <em>there are some companies that are so great that no one wants to leave them. This section is not about them. This is about the companies we all know and have grown accustomed to tolerate - the ones with the mostly same work, lying bosses and a lot of empty promises.</em></p><p>The idea is basic. You&#8217;ve spent some time in the company, you&#8217;re hoping that in time with hard work and dedication you&#8217;ll rise in the company ranks and you&#8217;ll get a healthy salary increase in the process.</p><p>Unfortunately this doesn&#8217;t happen quite often. Most companies have some internal salary limits and some next to irreplaceable people. This means that there is a cap at your growth there. Sure, if you stay with the company long enough - say 10 years, probably some of the irreplaceable people will be replaced, but is worth the wait?</p><p>When you sit around just doing the same things you tend to get bored and demotivated at times. You become less productive and less interested in your work in general. You just go to work, stay there for 8 hours and go home. The paycheck is the only thing of interest to you and you become duller and duller by the day.</p><p>This is what I call &#8220;flowing down the current&#8221;. One of my former bosses used to say that when you start feeling you&#8217;re flowing down the current you should immediately start looking for another job(that is unless you&#8217;re one of the those people that just like to complain how they hate their job, but actually doesn&#8217;t mind to sit around doing nothing and get paid for it). My boss also used to say that one shouldn&#8217;t spend more than 3 or 4 years in a company he doesn&#8217;t own.</p><p>Of course you shouldn&#8217;t jump between jobs every 6 or so months because this will make you a blacklisted candidate by most HRs - after all they&#8217;re looking most of the time for people ready to commit to their cause for at least a few years.</p><p>Pros of staying:</p><ul>
<li>you know the game and how to play it</li>

<li>you&#8217;re accustomed to colleagues, the office and you don&#8217;t have to change them</li>

<li>you&#8217;ve got a guaranteed paycheck that is unlikely to evaporate</li>

<li>if the company is bigger(100+) you&#8217;ve got a fair chance to advance in the company hierarchy if you&#8217;re willing to stay long enough</li>
</ul><p>Cons of staying:</p><ul>
<li>you limit your professional development</li>

<li>you limit the possibilities for salary improvements</li>
</ul><p>In the end it seems to me that most people are not too fond of taking chances(me included). This is the reason that a lot of average companies have employees that could do a lot better somewhere else. This is partly caused by our very own society - the people and media around us keep telling us that we&#8217;re mostly the same, that it&#8217;s unlikely we&#8217;ll ever achieve something great, something monumental&#8230; and many of us do believe them.</p><p>Hristo Stoichkov might not be the all time greatest philosopher, but said something extremely important once(or twice) - &#8220;If you don&#8217;t play you can&#8217;t win&#8221;(in Bulgarian - &#8220;Който не играе не печели.&#8221;).</p><h1 id='move_to_another_company'>Move to another company</h1><p>Moving to another company is not a silver bullet. Most of the time it guarantees you a higher salary(the top reason why people switch jobs), but it doesn&#8217;t certainly mean you&#8217;ll have a more interesting and fulfilling work. This is especially true if you go to work for some huge corporation and you&#8217;re not part of its Research&amp;Development department. I generally avoid such job offers. Corporations offer some measure of security, but little if any excitement.</p><p>I think that most people should try to find employment in companies that are start-ups or that regularly start to work on new projects. There one has plenty of opportunities to prove himself and to advance in the company along the way. Of course such companies have the nasty habit of going down under from time to time so you have to think long and hard before joining one if you&#8217;re living under rent or have to pay down-payments on two mortgages. Of course if you&#8217;re good enough at your job - you&#8217;ll find a new one soon enough and that shouldn&#8217;t really be bothering you.</p><p>Pros of moving: * moving to a new company is likely to represent a raise in your salary you&#8217;ll have to wait several years to get with your current employer * there is a strong possibility that your new work will be more exciting than your old one(after all you&#8217;ve tried to pick a more exciting job, right?) * you might get to meet some interesting new people, learn from them and improve your professional skills</p><p>Cons of moving: * you have to prove your worth again(you&#8217;ve already did this in your old job)</p><ul>
<li>the is the factor of uncertainty every time you start something new</li>

<li>you&#8217;ll have to learn how to work and deal with your new colleagues</li>

<li>you might get more of the same work that made you leave in the first place in case you have not chosen carefully your new employer.</li>
</ul><h1 id='conclusion'>Conclusion</h1><p>Topics such a career development are highly subjective and depend on a myriad of factors. My musings here are inspired by my 7 year long career as a software engineer that spanned over four employers and will probably soon include a fifth. This is not a lot of data to consider, but I can assure you that the traits that I describe are most real and are here to stay.</p><div style='font-style: italic; color: #7f9f7f;'>Posted on 29 Apr 2011 by Bozhidar.</div>
<p><a href='/2011/04/29/career-development.html#disqus_thread'>Comments</a></p>

<h2 id='programming_languages_worth_learning'><a href='/2011/04/27/programming-languages-worth-learning.html'>Programming languages worth learning</a></h2>
<p>Programming languages have always been a passion of mine and through the years I&#8217;ve learnt quite a few of them. The first one was Pascal some 13 years ago and the last was Scala just a couple of months ago.</p><p>Although the authors of many languages claim that the language they created is the greatest thing after hot water, this is rarely the case. Most of the &#8220;unique&#8221; features are not quite unique and the truly unique stuff is often just useless. I don&#8217;t believe that there is a single greatest and unparallelled language, but I do believe that some languages are more valuable them others in term of both theory(the concepts around which they revolve) and practice(the chances of you landing a job with them or simply getting a task done).</p><p>In this blog post I&#8217;ve review the ten or so languages that I found to be most enlightening/helpful to me over the years. I think that every professional software engineer should have at least a passing knowledge of them.</p><h1 id='c'>C</h1><hr /><p>The C programming language has been around for more than forty years now. While it&#8217;s often viewed as a higher level assembly language today in the era of Java, .Net and Python C remains the sole choice for doing serious system programming - writing drivers, all kinds of servers and virtual machines.</p><p>The best way to get started with C hasn&#8217;t changed in the past 20+ years - just pick a copy of <a href='http://www.amazon.com/Programming-Language-2nd-Brian-Kernighan/dp/0131103628'>&#8220;The C Programming Language&#8221;</a> by K&amp;R.</p><h1 id='lisp'>Lisp</h1><hr /><p><em>&#8220;Lisp is worth learning for the profound enlightenment experience you will have when you finally get it; that experience will make you a better programmer for the rest of your days, even if you never actually use Lisp itself a lot.&#8221;</em> - Eric Raymond</p><p>One of the oldest programming languages around - created in 1958 and still relevant today. Important for its unique code is data approach, advanced code generation facilities(macros) and the ability to develop software in incremental and interactive fashion. Although many of the features that originally made it truly unique(like garbage collection, if expression, function objects) are found in many modern languages Lisp still offers some compelling alternatives for those interested to explore it.</p><p>You cannot start with a better introduction to Lisp that Peter Seibel&#8217;s <a href='http://www.gigamonkeys.com/book/'>&#8220;Practical Common Lisp&#8221;</a>.</p><h1 id='java'>Java</h1><hr /><p>Let&#8217;s face it - if you&#8217;re in the market for jobs a third of them are about Java EE or Android development. The language is not quite elegant, but the platform is truly magnificent. Although there are many other languages targeting the JVM(Scala, Groovy, Clojure, JRuby, Jython - just to name a few) Java is still predominant by a wide margin and this is unlikely to change soon.</p><p>I&#8217;ve taught a couple of introductory Java programming courses(in Bulgarian), but I&#8217;d recommend the <a href='http://www.amazon.com/Core-Java-TM-I--Fundamentals-8th/dp/0132354764/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1303901341&amp;sr=1-1'>&#8220;Core Java&#8221;</a> book over my lectures any day of the week. :-)</p><h1 id='haskell'>Haskell</h1><hr /><p>Functional programming has been gaining popularity in recent years with the rise of parallel computers and of the pure functional programming languages Haskell is probably the closest to the mainstream. It features great ideas like type inference, lazy evaluation, monads, pattern matching. As with Lisp many of the features of Haskell can be found in more impure packages(like Scala and Clojure), but Haskell is still the top pure functional language in my humble opinion. It also has really great free learning resources on-line like <a href='http://learnyouahaskell.com/'>&#8220;Learn you a Haskell for great good&#8221;</a> and <a href='http://book.realworldhaskell.org/read/'>&#8220;Real world Haskell&#8221;</a></p><h1 id='perl'>Perl</h1><hr /><p>Once the undisputed king of the Internet Perl has recently fallen down from grace in its battle with the newer generation of dynamic languages like PHP, Ruby and Python. While I wouldn&#8217;t advise anyone to start writing Web apps with Perl it&#8217;s still the best language for writing administration and helper scripts with minimum fuss and maximum developer throughput. It also has the greatest support for text processing ever and an extremely flexible(albeit a bit of confusing) syntax.</p><p>Pick up a copy of <a href='http://oreilly.com/catalog/9780596520113'>&#8220;Learning Perl&#8221;</a> or just browse the excellent <em>perldoc</em> and start coding in Perl right away.</p><h1 id='clojure'>Clojure</h1><hr /><p>Clojure is a Lisp dialect with an unique support for parallel and concurrent programming and runs on top of the venerable JVM. If you&#8217;re looking to do some serious parallel programming look no further.</p><p>To get started I recommend you to watch the free Clojure screencasts on <a href='http://clojure.blip.tv/'>blip.tv</a>.</p><h1 id='prolog'>Prolog</h1><hr /><p>The most famous language from the logic programming family. Solving a problem like a sudoku puzzle in Prolog will be an eye opening experience for any developer. While it&#8217;s unlikely that you&#8217;ll ever use it practice the ideas found in Prolog will truly expand your thinking horizons.</p><h1 id='ruby'>Ruby</h1><hr /><p>A pure object oriented dynamic scripting language with a very nice support for metaprogramming. Has versions written in Java(JRuby) and .Net(IronRuby). The language became popular with the rise of the Ruby on Rails web framework, but it has many applications that don&#8217;t involve RoR or web development.</p><p><a href='http://www.amazon.com/Programming-Ruby-1-9-Pragmatic-Programmers/dp/1934356085/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1303901367&amp;sr=1-1'>&#8220;Programming Ruby&#8221;</a> and <a href='http://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177/ref=sr_1_3?s=books&amp;ie=UTF8&amp;qid=1303901367&amp;sr=1-3'>&#8220;The Ruby Programming Language&#8221;</a> are two of the best introductory Ruby books around.</p><h1 id='scala'>Scala</h1><hr /><p>An interesting blend of pure object orientation and functional programming with some concurrency support baked in(actors). Of the current crop of JVM languages next to Clojure Scala looks most promising. It features an advanced static type system(more advanced than Haskell&#8217;s), state of the art Java integration, support for pattern matching, extractors and other functional goodness. If any language has a chance of displacing the Java programming language it must be Scala&#8230;</p><p>Start your journey to Scala mastery with <a href='http://www.artima.com/pins1ed/'>&#8220;Programming in Scala&#8221;</a>.</p><h1 id='javascript'>JavaScript</h1><hr /><p>We cannot conclude this whirlwind tour of notable programming languages without mentioning the King of the Web, the language that drove the Web 2.0 revolution - JavaScript. Although it has a terrible name(JavaScript shares nothing with Java), a questionable programming model built around mutating global variables and prototype instead of class inheritance it is supported virtually everywhere and any web developer will do well to learn some JavaScript.</p><h1 id='conclusion'>Conclusion</h1><hr /><p>We cannot be experts in ten or twenty programming languages - I&#8217;m certain of that. I do, however, believe that all the ideas and techniques that we discover in different programming languages will generally enrich our thinking and make us better software engineers in principle.</p><div style='font-style: italic; color: #7f9f7f;'>Posted on 27 Apr 2011 by Bozhidar.</div>
<p><a href='/2011/04/27/programming-languages-worth-learning.html#disqus_thread'>Comments</a></p>
                    </div>
                </div>
                <div id="footer">
                    Copyright &copy; 2010-2011 <a href="mailto:bozhidar.batsov@gmail.com">Bozhidar Batsov</a>. All Rights Reserved.
                    <br/>
                    Powered by <a href="http://jekyllrb.com/">Jekyll</a>.
                </div>
            </div>
            <div id="sidebar">
                <div id="twitter">
                    <script src="http://widgets.twimg.com/j/2/widget.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        new TWTR.Widget({
                        version: 2,
                        type: 'profile',
                        rpp: 4,
                        interval: 6000,
                        width: 250,
                        height: 300,
                        theme: {
                        shell: {
                        background: '#333333',
                        color: '#ffffff'
                        },
                        tweets: {
                        background: '#000000',
                        color: '#ffffff',
                        links: '#4aed05'
                        }
                        },
                        features: {
                        scrollbar: false,
                        loop: false,
                        live: false,
                        hashtags: true,
                        timestamp: true,
                        avatars: false,
                        behavior: 'all'
                        }
                        }).render().setUser('bbatsov').start();
                    </script>
                </div>
            </div>
        </div>
        <script type="text/javascript">
    var disqus_shortname = 'batsov'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    </body>
</html>
